<!DOCTYPE HTML>
<html lang='en'>
<head>
<meta charset='utf-8'>
<title>Some Example</title>
<style>
.modalMask{
top: 0;
left: 0;
width: 100%;
height: 100%;
position: fixed;
border: 1px solie red;
background: gray;
opacity: 70%
}
.modal{
top: 0;
left: 0;
right: 0;
bottom: 0;
width: 500px;
min-width:500px;
height: 300px;
min-height: 300px;
margin: auto;
position: fixed;
border: 3px solid black;
background: white;
overflow : auto;
}
.closeButton{
float: right;
padding: 7px;
cursor: pointer;
}
</style>
<script>

//this is class
function Modal(aid)
{
var objectAddress=this; //important for using where this will not work or we want object of this reference
//some property that can be used to decide is modal should be closed when user clicked outside of the modal area
this.onOpen=null;
this.onClose=null;
let contentId=aid;
let contentReference=document.getElementById(aid);
let contentParentReference=contentReference.parentElement;
let contentIndex=0
for(;contentParentReference.children.length;contentIndex++)
{
if(contentReference==contentParentReference.children[contentIndex]) break;
}
let modalMaskDivision=document.createElement('div');
let modalDivision=document.createElement('div');
modalMaskDivision.classList.add('modalMask');
modalDivision.classList.add('modal');
let closeButtonSpan=document.createElement('span');
closeButtonSpan.classList.add('closeButton');
let closeButtonMarker=document.createTextNode('X');
closeButtonSpan.appendChild(closeButtonMarker);
modalDivision.appendChild(closeButtonSpan);
contentReference.remove();
modalDivision.appendChild(contentReference);

this.show=function(){
document.body.appendChild(modalMaskDivision);
document.body.appendChild(modalDivision);
if(this.onOpen) this.onOpen();
};

closeButtonSpan.onclick=function(){
contentReference.remove();
modalMaskDivision.remove();
modalDivision.remove();
if(contentIndex==contentParentReference.children.length) contentParentReference.appendChild(contentReference);
else
{
contentParentReference.insertBefore(contentReference,contentParentReference.children[contentIndex]);
}
if(objectAddress.onClose) objectAddress.onClose();
};

modalMaskDivision.onclick=()=>{
contentReference.remove();
modalMaskDivision.remove();
modalDivision.remove();
if(contentIndex==contentParentReference.children.length) contentParentReference.appendChild(contentReference);
else
{
contentParentReference.insertBefore(contentReference,contentParentReference.children[contentIndex]);
}
if(objectAddress.onClose) objectAddress.onClose();
};

}//Modal function ends here



function createModal1()
{
let modal=new Modal('ab');
modal.onClose=function(){
alert('Modal will be closed');
};
modal.onOpen=function(){
alert('Modal will be opned');
};
modal.show();

}

function createModal2()
{
let modal=new Modal('cd');
modal.onClose=function(){
alert('Modal will be closed');
};
modal.onOpen=function(){
alert('Modal will be opned');
};
modal.show();

}

</script>
</head>
<body>
<button type='button' onClick='createModal1()'>show first modal</button>
<button type='button' onClick='createModal2()'>show Second modal</button>
<div id='ab' areaClose="true">
<h1>god is great</h1>
</div>
<dib id='cd' areaClose="false">
<h1>Ujjain is the city of gods</h1>
</div>
</body>
</html>